# Chat Log Maker Plugin 開発 - Step 4-2: UI 改善とバグ修正

## 概要

Step 4-1 で実装した登場人物管理機能にバグがあることが判明。Add Character ボタンが動作しない問題を修正し、UI の使いやすさを改善する。

## 問題点

- Add Character ボタンが動作しない（アルファベット 26 文字を超えた場合の処理不備）
- Characters セクションでの名前変更がリアルタイムに反映されない
- 名前変更時に Enter キーでの確定ができない
- 登場人物が無制限に追加できる問題

## 仮説

- Add Character ボタンで 26 文字（Z）を超えた場合に無効な文字コードが生成される
- 名前変更時のイベントハンドリングが不十分で、blur や Enter キーでの確定が効かない
- 拡張性を考慮しすぎて、実用性が損なわれている

## やったこと

1. **Add Character ボタンの修正**: 最大 5 人（A, B, C, D, E）までに制限し、シンプルな実装に変更
2. **名前変更イベントの改善**: input、blur、Enter キーの 3 つのイベントで名前変更を処理するように修正
3. **イベントハンドラーの最適化**: handleNameChange 関数を共通化して、重複コードを削減
4. **ボタン状態の管理**: 5 人に達したらボタンを無効化し、テキストも「Max 5」に変更
5. **UI フィードバックの改善**: アラートの代わりにボタンの無効化で制限を表現

## TODO

- Characters の delete 機能削除
  - Character を削除したい場合は名前を変更すればいい
  - デフォルトの 5 人（A, B, C, D, E）が削除されることはないようにする
